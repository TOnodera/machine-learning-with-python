# pythonで始める機械学習用

## NumPy インデックス指定チートシート

---

### ✅ 基本ルール
- **カンマごとに次元を指定**
  - `:` → その軸を全部
  - 数字 → その軸の特定の位置
- **高次元になるほど「奥の軸」がチャネルや時間軸を表すことが多い**

---

### 2次元配列 (H × W)

```python
data.shape = (3, 4)
```

| 記法        | 意味                   | shape |
|-------------|------------------------|-------|
| `data[0, :]` | 0行目の全列           | (4,)  |
| `data[:, 0]` | 全行の0列目           | (3,)  |
| `data[:, :]` | 全行全列（=そのまま） | (3,4) |

---

### 3次元配列 (H × W × C) 例: 画像データ

```python
data.shape = (3, 4, 2)
```

| 記法            | 意味                         | shape |
|-----------------|------------------------------|-------|
| `data[0, :, :]` | 0行目の全列・全チャネル     | (4,2) |
| `data[:, 0, :]` | 全行の「0列目」＋全チャネル | (3,2) |
| `data[:, :, 0]` | 全行全列の「チャネル0」     | (3,4) |
| `data[:, :, :]` | 全部（=そのまま）           | (3,4,2) |

👉 **「最初の面（チャネル0）」は `data[:, :, 0]`**

---

### 4次元配列 (N × H × W × C) 例: 動画やミニバッチ

```python
data.shape = (10, 3, 4, 2)  # 10枚の画像（3×4, チャネル2）
```

| 記法                | 意味                            | shape   |
|---------------------|---------------------------------|---------|
| `data[0, :, :, :]`  | 最初の画像（高さ×幅×チャネル） | (3,4,2) |
| `data[:, :, :, 0]`  | 全サンプルの「チャネル0」       | (10,3,4)|
| `data[:, 0, :, :]`  | 全サンプルの行=0 のスライス     | (10,4,2)|
| `data[:, :, 0, :]`  | 全サンプルの列=0 のスライス     | (10,3,2)|

---

### 📌 覚え方
- 左から順に「行 → 列 → チャネル → 時系列」と読む  
- `:` を使えばその軸は全部、数字を使えばその位置だけ  
- **「面」を切り出すなら最後の軸を数字で指定する**
